local Translations = {
    ["Close"]="关闭脚本",
    ["Open"]="显现脚本",
    ["Auto Farm"]="自动系列",
    ["Base"]="基地",
    ["Player"]="玩家",
    ["Selling"]="出售",
    ["Dupe"]="视觉体验",
    ["Events"]="游戏事件",
    ["Extra"]="额外",
    ["Settings"]="设置",
    ["Autofarm"]="自动收集",
    ["Seml fast teleport"]="半快速传送",
    ["Auto Farm BrainRots"]="自动收集脑红(不加下面选项收集的是最低品质)",
    ["Brainrots"]="脑红",
    ["Rarities"]="品质",
    ["Mutations (Priority when farming by rarity)"]="突变(稀有的优先)",
    ["Prlorltize mutations when farming"]="收集的时候最先考虑优质的",
    ["Lucky Blocks"]="幸运方块",
    ["Auto Collect Lucky Blocks"]="自动收集幸运方块",
    ["Mutations (Priority)"]="突变(优先)",
    ["ServerHop If none"]="服务器如果没有",
    ["ServerHops if no lucky blocks"]="服务器如果没有幸运方块",
    ["Server Hop Delay"]="服务器延迟",
    ["Use Lucky Blocks"]="开幸运方块",
    ["Auto Use Lucky Blocks"]="自动开幸运方块",
    ["Delay"]="延迟",
    ["Upgrade Carry"]="升级携带脑红数量",
    ["Auto Upgrade Carry"]="自动升级脑红携带数量",
    ["Rebirth"]="复活",
    ["Auto Rebirth"]="自动复活",
    ["Collect Cash"]="拿钱",
    ["Auto Collect Cash"]="钱是自己家造的随便拿",
    ["Upgrade Brainrots"]="升级脑红",
    ["Auto Upgrade BrainRots"]="自动升级脑红",
    ["Upgrade Base"]="升级基地",
    ["Auto Upgrade Base"]="自动升级基地",
    ["Upgrade Speed"]="升级速度",
    ["Auto Upgrade Speed"]="自动升级",
    ["Respawn tp"]="复活传送",
    ["Spawn where died"]="死哪传哪",
    ["Trolling"]="挑衅",
    ["Auto Equip Bat"]="自动装备(蝙蝠？)",
    ["Auto Hit Closest Player"]="自动击中最近的玩家",
    ["Auto Hit All Players"]="自动命中所有玩家",
    ["Auto Hit Certain Players"]="自动命中某些玩家",
    ["Trolling Settings"]="挑衅设置",
    ["Ignore Friends"]="忽略朋友(选定)",
    ["Custom Distance Toggle"]="自定义距离开关",
    ["Distance"]="距离",
    ["studs"]="米",
    ["Disable Animations"]="禁用动画",
    ["Infinite Jump"]="百段跳",
    ["WalkSpeed"]="行走速度",
    ["JumpPower"]="跳跃神力",
    ["Fly"]="飞",
    ["Character Fly Speed"]="角色飞速度",
    ["Spectate"]="观战",
    ["Spectate Player"]="观战玩家",
    ["Brainrots"]="脑红",
    ["Auto Sell BrainRots"]="自动卖脑红",
    ["BrainRots"]="脑红",
    ["Sell By Rarity"]="出售脑红",
    ["Raritys"]="稀有",
    ["Dupe Brainrot In Hand"]="脑红出现在手上(假的)",
    ["Make it rain"]="这个我也看不懂大概意思应该是制作者:rain",
    ["Coins"]="硬币",
    ["Auto Collect Radioactive Coins"]="自动收集硬币",
    ["Coins 2"]="外星人飞船硬币",
    ["Auto Collect UFO Coins"]="自动收集外星人飞船硬币",
    ["Wheel"]="轮胎",
    ["Auto Spin Wheel"]="自动旋转轮胎",
    ["WackyWaves"]="波浪",
    ["ServerHop On Wacky Waves"]="在服务器上的波浪",
    ["Notifications"]="通知",
    ["Disable Notifications"]="禁用通知",
    ["Proximity Prompt"]="接近波浪提示",
    ["Proximity Prompt Time Changer"]="接近提示波浪时间更改器",
}

local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    if Translations[text] then return Translations[text] end
    for en, cn in pairs(Translations) do
        if text:find(en) then return text:gsub(en, cn) end
    end
    return text
end

local function translateAllElements()
    local function translateGui(gui)
        for _, element in ipairs(gui:GetDescendants()) do
            if element:IsA("TextLabel") or element:IsA("TextButton") or element:IsA("TextBox") then
                local currentText = element.Text
                if currentText and currentText ~= "" then
                    local translatedText = translateText(currentText)
                    if translatedText ~= currentText then
                        element.Text = translatedText
                    end
                end
            end
        end
    end
    
    pcall(translateGui, game:GetService("CoreGui"))
    
    local player = game:GetService("Players").LocalPlayer
    if player and player:FindFirstChild("PlayerGui") then
        pcall(translateGui, player.PlayerGui)
    end
end

local function setupListener()
    local function connectToGui(gui)
        gui.DescendantAdded:Connect(function(descendant)
            if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                local currentText = descendant.Text
                if currentText and currentText ~= "" then
                    local translatedText = translateText(currentText)
                    if translatedText ~= currentText then
                        descendant.Text = translatedText
                    end
                end
                
                descendant:GetPropertyChangedSignal("Text"):Connect(function()
                    local newText = descendant.Text
                    if newText and newText ~= "" then
                        local translatedText = translateText(newText)
                        if translatedText ~= newText then
                            descendant.Text = translatedText
                        end
                    end
                end)
            end
        end)
    end
    
    pcall(connectToGui, game:GetService("CoreGui"))
    
    local player = game:GetService("Players").LocalPlayer
    if player and player:FindFirstChild("PlayerGui") then
        pcall(connectToGui, player.PlayerGui)
    end
end

local function startTranslation()
    translateAllElements()
    setupListener()
end

local function loadScript()
    local success, err = pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/meobeo8/a/a/a"))()
    end)

    if not success then
        warn("加载失败:", err)
    end
end

if RunScriptFirst then
    loadScript()
    startTranslation()
else
    startTranslation()
    loadScript()
end
